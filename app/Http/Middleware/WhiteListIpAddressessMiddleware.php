<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;

class WhiteListIpAddressessMiddleware
{
    /**
     * @var string[]
     */
    public $whitelistIps = [
	'182.72.243.189',
 '14.98.231.66',
 '106.51.250.50',
'14.99.162.50',
'14.99.164.122',
'61.12.74.14',
'182.75.240.106',
'192.168.20.243',
'122.180.78.254',
'122.180.78.253',
'122.180.78.252',
'122.180.78.251',
'122.180.78.250',
'122.180.78.249',
'122.180.78.248',
'122.180.78.247',
'122.180.78.246',
'122.180.78.245',
'122.180.78.244',
'122.180.78.243',
'122.180.78.242',
'122.180.78.241',
'61.12.86.109',
'61.12.86.108',
'61.12.86.107',
'61.12.86.106',
'61.12.86.105',
'182.75.216.230',
'182.75.216.229',
'182.75.216.228',
'182.75.225.85',
'182.75.225.84',
'182.75.225.83',
'182.75.225.82',
'182.75.225.81',
'182.75.225.80',
'111.93.186.150',
'111.93.186.149',
'111.93.186.148',
'182.75.225.86',
'122.180.77.245',
'122.180.76.158',
'110.227.121.223',
'61.12.86.110',
'122.160.148.132',
'122.161.233.10',
'122.160.148.142',
'182.75.187.150',
'182.71.79.41',
'182.71.79.42',
'182.71.79.43',
'182.71.79.44',
'182.71.79.45',
'112.192.152.208',
'103.194.192.67',
'103.194.192.71',
'112.196.152.208',
'112.196.152.185',
'14.98.231.70',
'106.51.250.52',
'14.98.141.194',
'111.93.93.180',
'103.231.5.66',
'14.99.7.140',
'14.99.7.30',
'14.99.0.40',
'14.99.0.29',
'14.99.7.20',
'14.99.6.136',
'14.99.6.29',
'14.99.161.108',
'14.99.161.30',
'14.99.162.48',
'14.99.162.29',
'14.99.164.120',
'14.99.164.30',
'14.99.165.104',
'14.99.165.29',
'14.99.7.22',
'103.231.5.67',
'103.231.5.68',
'103.231.5.69',
'103.231.5.70',
'14.99.167.30',
'14.99.135.26',
'14.99.135.27',
'14.99.135.28',
'14.99.135.29',
'14.99.135.30',
'122.166.197.8',
'182.75.122.137',
'182.75.122.138',
'182.75.122.139',
'182.75.122.140',
'182.75.122.141',
'182.75.122.142',
'14.99.166.32',
'14.99.166.33',
'14.99.166.34',
'14.99.166.35',
'14.99.166.36',
'14.99.166.37',
'14.99.166.38',
'182.74.91.105',
'182.74.91.106',
'182.74.91.107',
'182.74.91.108',
'182.74.91.109',
'182.74.91.110',
'182.74.91.111',
'14.99.166.42',
'14.99.166.43',
'14.99.166.44',
'14.99.166.45',
'14.99.166.46',
'182.74.23.145',
'182.74.23.146',
'182.74.23.147',
'182.74.23.148',
'182.74.23.149',
'182.74.23.150',
'182.75.121.166',
'14.99.164.210',
'182.75.191.50',
'112.196.152.174',
'111.93.191.46',
'111.93.245.106',
'111.93.245.107',
'111.93.245.108',
'111.93.245.109',
'111.93.245.110',
'122.172.79.85',
'112.196.152.186',
'182.76.50.38',
'112.196.165.233',
'112.196.165.235',
'136.185.140.206',
'182.72.243.190',
'125.19.31.82',
'14.142.155.218',
'59.160.132.14',
'125.18.249.190',
'10.81.124.35',
'112.196.152.195',
'112.196.152.194',
'112.196.152.180',
'116.74.47.102',
'125.99.7.191',
'116.75.205.247',
'27.7.229.193',
'14.99.7.142',
'112.196.152.173',
'14.98.138.216',
'14.98.138.217',
'14.98.138.218',
'14.98.138.219',
'14.98.138.220',
'14.98.138.221',
'14.98.138.222',
'14.98.138.223',
'112.196.152.210',
'122.172.193.60',
'182.72.37.214',
'182.72.37.213',
'182.72.37.212',
'182.72.37.211',
'182.72.37.210',
'182.73.246.234',
'10.10.0.210',
'122.166.249.30',
'112.196.152.177',
'192.168.64.0',
'192.168.182.0',
'47.15.223.251',
'182.73.169.178',
'112.196.152.176',
'112.196.152.188',
'112.196.152.205',
'112.196.152.204',
'112.196.152.190',
'27.57.118.189',
'112.196.152.207',
'112.196.152.183',
'112.196.152.202',
'182.76.50.37',
'14.97.86.77',
'112.196.152.193',
'112.196.152.211',
'14.97.141.226',
'14.97.86.78',
'103.39.128.226',
'114.143.240.170',
'122.187.205.97',
'122.187.205.98',
'136.232.141.226',
'125.17.253.66',
'182.72.243.188'
    ];

    /**
     * Handle an incoming request.
     *
     * @param Request $request
     * @param Closure $next
     * @return mixed
     */
    public function handle(Request $request, Closure $next)
    {
        if (!in_array($request->getClientIp(), $this->whitelistIps)) {
            abort(403, "You are restricted to access the site.");
        }

        return $next($request);
    }
}